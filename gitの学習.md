# Git

# git の学習

## git の概要

### git が解決する問題

ファイルを元の状態へ戻したい場合は一番簡単なのは事前に編集前のバックアップを用意しておくことであるが手間もかかる上に間違いも発生しやすい。そういった問題を解決するために Git が生まれた。Git を使用するとファイルの状態を`更新履歴`として保存しておくことが可能でファイルを過去の状態へ戻したり編集箇所の差分を表示することができる。

### コミット

Git ではファイル管理をリモートリポジトリと自身の PC にあるローカルリポジトリを使用して行う。 ローカルリポジトリを編集し push してリモートに反映、リモートを pull してローカルに反映する。 ファイルやディレクトリの追加および変更をリポジトリに記録する操作を`コミット`という。 コミットは時系列順に格納されており、リポジトリに格納されているのでコミットを最新のものから辿ることで過去の変更履歴を把握できる。

### ワークツリーとインデックス(ステージ)

- ワークツリー: Git 管理下に置かれた実際に作業をしているディレクトリのこと。

- インデックス： 別名ステージングとも呼ばれ、レポジトリとワークツリーの間に存在するコミット前の準備場所。 厳密にはインデックスはワーキングツリーの内容のスナップショットを保持している。次回コミットされるときにコンテンツとして保存されるのが このスナップショットに当たる。 Git では、コミットを実行した際にワークツリーから直接レポジトリ内に状態を記録するのではなく、その間に設けられているインデックスの状態を記録するようになっている。

※スナップショット： ある瞬間を切り取ったものを指す。コミットを写真を撮るに例えた場合、ステージングは物を撮影台の上に置くイメージ。

### ステージングについて少しの深掘り

### インデックス(ステージング)に git add であげる行為は何を意味するのか？

ワークツリーで git add されたファイルは実際には

- .git/index(インデックス)
- .git/objects(レポジトリのデータベース)

に書き込まれる。

.git/index にはファイルのメタ情報的なものが格納されており、.git/objects にはファイルそのものが格納されている。つまり git add した時点でコンテンツはレポジトリに格納されていると言える。

参考リンク
